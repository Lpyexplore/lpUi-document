# 文档编写中遇到的问题

## 一、markdown语法转html

- 问题

不知道用什么工具去解析markdown语法，并且不知道如何将解析好的markdown语法用在Vue中

- 解决办法（已解决 √）

1. 先通过 `markdown-it` 库进行一些配置
2. 直接在Vue中通过导入md文件，然后作为组件在html中使用
3. 在导入的md文件组件上加上 `class='markdown-body'` ，即可完成自动解析markdown语法的需求


## 二、代码高亮

- 问题

本打算自己写一个自动识别代码，然后进行代码样式添加的库，但发现十分麻烦

- 解决办法（已解决 √）

1. 查阅资料，找到了特别火的一个库，叫做 `highlight.js`
2. 通过 `highlight.js` 这个库，自己自定义一个指令 `v-highlight`
3. 直接导入我们自定义指令的文件，然后在后续需要代码高亮的标签上使用 `v-highlight` 指令即可

## 三、文件结构复杂

- 问题

由于组件文档项目设计到很多的路由以及嵌套路由，所以代码结构可能会非常的复杂，导致我无从下手

- 解决办法（已解决 √）

1. 先在纸上画了一下结构图，分析好每个页面的结构关系，并且分析了页面中哪些部分是会被反复使用的，之后可以把它封装成一个独立的组件
2. 在项目中以此创建好相应的文件

## 四、lp-input组件连续输入内容会使页面卡死

- 问题

我在编写 `lp-input` 组件的文档时，发现组件例子使用 `v-model` 绑定了数之后，在输入框中一直按着键盘上的一个键，就会使页面卡死，但在组件开发测试时却没有这个问题

- 解决办法（未解决 ×）

1. 我先是因为过度频繁地触发了 `input` 事件，导致页面一瞬间渲染了很多次从而使得网页崩溃，后来对 `input` 事件做了**节流处理**，发现问题还是没有解决，页面的渲染速度就变慢了

## 五、展示组件和markdown文档的cpnCase组件动画不平滑

- 问题

cpnCase组件的隐藏和展示代码块之间的过渡动画效果不够平缓

- 解决办法（解决 √）

1. 通过多次尝试并查询资料，发现是因为设置的max-height远远大于代码块元素的高度，所以动画会不够平滑，因此我事先看了一下所有的代码块的高度，然后取了一个刚好大于高度最大的代码块元素的高度的值，但效果似乎还是不怎么好，因为之后如果还有高度更高的代码块，我还得修改

2. 我又向父组件开放了一个属性 `lines`，然后通过长度单位 `em` 和这个属性 `lines` 相结合的方式动态地改变每个代码块的 `max-height`，因此问题得到解决